define(["util"],function(a){var b="SFDC/tracking: ",c={},d=null,e=null,f=function(a,b,d){if(g(a)){var e=c[a];e.contact=d,e.primaryTabId=b}else c[a]={whatId:d?d.AccountId||null:null,primaryTabId:b,taskTabId:null,contact:d}},g=function(a){return void 0!==c[a]};return{add:f,exists:g,setTaskId:function(a,b){g(a)||(c[a]={}),c[a].taskId=b},setWhatId:function(a,b){g(a)||(c[a]={}),c[a].whatId=b},setTaskTabId:function(a,b){g(a)||(c[a]={}),c[a].taskTabId=b},setCaseId:function(a,b){g(a)||(c[a]={}),c[a].caseId=b},setParams:function(a){if(void 0!==a.ixn){var b=a.ixn.id;g(b)||(c[b]={}),c[b].params=a}},getContact:function(a){var d=c[a];return void 0!==d?d.contact:(console.warn(b+"getContact-"+a+" does not exist"),null)},getTaskId:function(a){var d=c[a];return void 0!==d?d.taskId:(console.warn(b+"getTaskId-"+a+" does not exist"),null)},getWhatId:function(a){var d=c[a];return void 0!==d?d.whatId:(console.warn(b+"getWhatId-"+a+" does not exist"),null)},getPrimaryTabId:function(a){var d=c[a];return void 0!==d?d.primaryTabId:(console.warn(b+"getPrimaryTabId-"+a+" does not exist"),null)},getTaskTabId:function(a){var d=c[a];return void 0!==d?d.taskTabId:(console.warn(b+"getTaskTabId-"+a+" does not exist"),null)},getCaseId:function(a){var d=c[a];return void 0!==d?d.caseId:(console.warn(b+"getCaseId-"+a+" does not exist"),null)},getParams:function(a){var d=c[a];return void 0!==d&&void 0!==d.params?d.params:(console.warn(b+"getParams-"+a+" does not exist"),null)},remove:function(a){delete c[a]},reset:function(){c={}},primaryTabFocused:function(a){d=a.id;var c=a.objectId;if(15===c.length){for(var f="",g=0;g<3;g++){for(var h=0,i=0;i<5;i++){var j=c.charAt(5*g+i);j>="A"&&j<="Z"&&(h+=1<<i)}f+="ABCDEFGHIJKLMNOPQRSTUVWXYZ012345".charAt(h)}e=c+f}else e=null;console.log(b+"primaryTabFocused - "+d+", "+e)},getCurrentPrimaryTabId:function(){return d},getCurrentPrimaryTabObjectId:function(){return e}}});